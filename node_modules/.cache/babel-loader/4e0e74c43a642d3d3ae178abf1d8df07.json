{"ast":null,"code":"\"use strict\";\n/**\n * rfc8081\n */\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar params = __importStar(require(\"./params\"));\n\nvar asn1def_1 = require(\"./asn1def\");\n\nvar des_js_1 = __importDefault(require(\"des.js\"));\n\nvar buffer_1 = __importDefault(require(\"buffer\"));\n\nvar asn1_js_1 = __importDefault(require(\"asn1.js\"));\n\nvar js_encoding_utils_1 = __importDefault(require(\"js-encoding-utils\"));\n\nvar js_crypto_pbkdf_1 = __importDefault(require(\"js-crypto-pbkdf\"));\n\nvar js_crypto_aes_1 = __importDefault(require(\"js-crypto-aes\"));\n\nvar js_crypto_random_1 = __importDefault(require(\"js-crypto-random\"));\n\nvar Buffer = buffer_1.default.Buffer;\nvar BN = asn1_js_1.default.bignum; ///////////////////////////////////////////////////////////////////\n\n/**\n * Generate EncryptedPrivateKeyInfo ASN.1 object.\n * @param {DER} binKey - Binary key in DER format.\n * @param {AsnEncryptOptionsWithPassphrase} [options={passphrase: ''}] - Encryption options for ASN.1 private key.\n * @return {Promise<DER>} - Encrypted private key in DER.\n */\n\nexports.encryptEncryptedPrivateKeyInfo = function (binKey, options) {\n  if (options === void 0) {\n    options = {\n      passphrase: ''\n    };\n  }\n\n  return __awaiter(void 0, void 0, void 0, function () {\n    var kdfAlgorithm, encryptedPBES2, encryptedPBES1;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          // default params\n          if (typeof options.algorithm === 'undefined') options.algorithm = 'pbes2';\n          if (typeof options.iterationCount === 'undefined') options.iterationCount = 2048;\n          if (!(options.algorithm === 'pbes2')) return [3\n          /*break*/\n          , 2];\n          if (typeof options.cipher === 'undefined') options.cipher = 'aes256-cbc';\n          if (typeof options.prf === 'undefined') options.prf = 'hmacWithSHA256';\n          kdfAlgorithm = 'pbkdf2';\n          return [4\n          /*yield*/\n          , encryptPBES2(binKey, options.passphrase, kdfAlgorithm, options.prf, options.iterationCount, options.cipher)];\n\n        case 1:\n          encryptedPBES2 = _a.sent();\n          return [2\n          /*return*/\n          , encodePBES2(encryptedPBES2)];\n\n        case 2:\n          return [4\n          /*yield*/\n          , encryptPBES1(binKey, options.passphrase, options.algorithm, options.iterationCount)];\n\n        case 3:\n          encryptedPBES1 = _a.sent();\n          encryptedPBES1.encryptionAlgorithm.algorithm = params.passwordBasedEncryptionSchemes[encryptedPBES1.encryptionAlgorithm.algorithm].oid; // work around\n\n          encryptedPBES1.encryptionAlgorithm.parameters = asn1def_1.PBEParameter.encode(encryptedPBES1.encryptionAlgorithm.parameters, 'der');\n          return [2\n          /*return*/\n          , asn1def_1.EncryptedPrivateKeyInfo.encode(encryptedPBES1, 'der')];\n      }\n    });\n  });\n};\n/**\n * Decrypt EncryptedPrivateKeyInfo\n * @param {Object} epki - Parsed encrypted\n * @param {String} passphrase - Passphrase to decyrpt the object.\n * @return {Promise<Object>} - Decrypted object.\n */\n\n\nexports.decryptEncryptedPrivateKeyInfo = function (epki, passphrase) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var decoded;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          decoded = {}; // encryptionAlgorithm.algorithm\n\n          decoded.encryptionAlgorithm = {\n            algorithm: params.getAlgorithmFromOidStrict(epki.encryptionAlgorithm.algorithm, params.passwordBasedEncryptionSchemes)\n          };\n\n          if (decoded.encryptionAlgorithm.algorithm === 'pbes2') {\n            decoded.encryptionAlgorithm.parameters = decodePBES2(epki.encryptionAlgorithm.parameters);\n          } else {\n            decoded.encryptionAlgorithm.parameters = asn1def_1.PBEParameter.decode(epki.encryptionAlgorithm.parameters, 'der');\n          }\n\n          decoded.encryptedData = epki.encryptedData;\n          if (!(decoded.encryptionAlgorithm.algorithm === 'pbes2')) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , decryptPBES2(decoded, passphrase)];\n\n        case 1:\n          return [2\n          /*return*/\n          , _a.sent()];\n        // work around\n\n        case 2:\n          return [4\n          /*yield*/\n          , decryptPBES1(decoded, passphrase)];\n\n        case 3:\n          return [2\n          /*return*/\n          , _a.sent()];\n      }\n    });\n  });\n}; //////////////////////////////\n\n\nvar encodePBES2 = function (decoded // work around\n) {\n  var epki = {\n    encryptionAlgorithm: {}\n  }; // work around\n  // algorithm\n\n  epki.encryptionAlgorithm.algorithm = params.passwordBasedEncryptionSchemes[decoded.encryptionAlgorithm.algorithm].oid; // kdf\n\n  var kdf = decoded.encryptionAlgorithm.parameters.keyDerivationFunc;\n\n  if (kdf.algorithm === 'pbkdf2') {\n    kdf.parameters.prf.algorithm = params.pbkdf2Prfs[kdf.parameters.prf.algorithm].oid;\n    kdf.parameters = asn1def_1.PBKDF2Params.encode(kdf.parameters, 'der');\n  } else throw new Error('UnsupportedKDF');\n\n  kdf.algorithm = params.keyDerivationFunctions[kdf.algorithm].oid; // encryptionScheme\n\n  var eS = decoded.encryptionAlgorithm.parameters.encryptionScheme;\n\n  if (Object.keys(asn1def_1.PBES2ESParams).indexOf(eS.algorithm) >= 0) {\n    eS.parameters = asn1def_1.PBES2ESParams[eS.algorithm].encode(eS.parameters, 'der');\n  } else throw new Error('UnsupportedCipher');\n\n  eS.algorithm = params.encryptionSchemes[eS.algorithm].oid; // params\n\n  epki.encryptionAlgorithm.parameters = asn1def_1.PBES2Params.encode({\n    keyDerivationFunc: kdf,\n    encryptionScheme: eS\n  }, 'der'); // encoded data\n\n  epki.encryptedData = decoded.encryptedData;\n  return asn1def_1.EncryptedPrivateKeyInfo.encode(epki, 'der');\n};\n\nvar decodePBES2 = function (rawParams) {\n  var pbes2Params = asn1def_1.PBES2Params.decode(rawParams, 'der'); // keyDerivationFunc\n\n  var kdfAlgorithm = params.getAlgorithmFromOidStrict(pbes2Params.keyDerivationFunc.algorithm, params.keyDerivationFunctions);\n  var iterationCount;\n  var salt;\n  var prf;\n\n  if (kdfAlgorithm === 'pbkdf2') {\n    var pbkdf2Params = asn1def_1.PBKDF2Params.decode(pbes2Params.keyDerivationFunc.parameters, 'der');\n    prf = {\n      algorithm: params.getAlgorithmFromOidStrict(pbkdf2Params.prf.algorithm, params.pbkdf2Prfs),\n      parameters: pbkdf2Params.prf.parameters\n    };\n    iterationCount = pbkdf2Params.iterationCount;\n    salt = {\n      type: pbkdf2Params.salt.type,\n      value: pbkdf2Params.salt.value\n    };\n  } else throw new Error('UnsupportedKDF'); //encryptionScheme\n\n\n  var encryptionScheme = params.getAlgorithmFromOidStrict(pbes2Params.encryptionScheme.algorithm, params.encryptionSchemes);\n  var encryptionParams;\n\n  if (Object.keys(asn1def_1.PBES2ESParams).indexOf(encryptionScheme) >= 0) {\n    encryptionParams = asn1def_1.PBES2ESParams[encryptionScheme].decode(pbes2Params.encryptionScheme.parameters, 'der');\n  } else throw new Error('UnsupportedCipher'); // TODO: Other Encryption Scheme\n\n\n  return {\n    keyDerivationFunc: {\n      algorithm: kdfAlgorithm,\n      parameters: {\n        salt: salt,\n        iterationCount: iterationCount,\n        prf: prf\n      }\n    },\n    encryptionScheme: {\n      algorithm: encryptionScheme,\n      parameters: encryptionParams\n    }\n  };\n}; //////////////////////\n// PBES2 RFC8018 Section 6.2.1\n\n\nvar encryptPBES2 = function (binKey, passphrase, kdfAlgorithm, prf, iterationCount, cipher) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var pBuffer, salt, keyLength, key, iv, encryptedData, _a, _b, CBC, ct, _c, _d;\n\n    return __generator(this, function (_e) {\n      switch (_e.label) {\n        case 0:\n          pBuffer = js_encoding_utils_1.default.encoder.stringToArrayBuffer(passphrase);\n          return [4\n          /*yield*/\n          , js_crypto_random_1.default.getRandomBytes(params.keyDerivationFunctions[kdfAlgorithm].defaultSaltLen)];\n\n        case 1:\n          salt = _e.sent();\n          keyLength = params.encryptionSchemes[cipher].keyLength;\n          if (!(kdfAlgorithm === 'pbkdf2')) return [3\n          /*break*/\n          , 3];\n          return [4\n          /*yield*/\n          , js_crypto_pbkdf_1.default.pbkdf2(pBuffer, salt, iterationCount, keyLength, params.pbkdf2Prfs[prf].hash)];\n\n        case 2:\n          key = _e.sent(); // work around\n\n          return [3\n          /*break*/\n          , 4];\n\n        case 3:\n          throw new Error('UnsupportedKDF');\n\n        case 4:\n          if (!(cipher === 'des-ede3-cbc')) return [3\n          /*break*/\n          , 6];\n          _b = (_a = Buffer).from;\n          return [4\n          /*yield*/\n          , js_crypto_random_1.default.getRandomBytes(params.encryptionSchemes[cipher].ivLength)];\n\n        case 5:\n          iv = _b.apply(_a, [_e.sent()]);\n          CBC = des_js_1.default.CBC.instantiate(des_js_1.default.EDE);\n          ct = CBC.create({\n            type: 'encrypt',\n            key: Buffer.from(key),\n            iv: iv\n          });\n          encryptedData = Buffer.from(ct.update(binKey).concat(ct.final()));\n          return [3\n          /*break*/\n          , 10];\n\n        case 6:\n          if (!(cipher === 'aes128-cbc' || cipher === 'aes192-cbc' || cipher === 'aes256-cbc')) return [3\n          /*break*/\n          , 9];\n          return [4\n          /*yield*/\n          , js_crypto_random_1.default.getRandomBytes(params.encryptionSchemes[cipher].ivLength)];\n\n        case 7:\n          iv = _e.sent();\n          _d = (_c = Buffer).from;\n          return [4\n          /*yield*/\n          , js_crypto_aes_1.default.encrypt(new Uint8Array(binKey), key, {\n            name: 'AES-CBC',\n            iv: iv\n          })];\n\n        case 8:\n          encryptedData = _d.apply(_c, [_e.sent()]);\n          iv = Buffer.from(iv);\n          return [3\n          /*break*/\n          , 10];\n\n        case 9:\n          throw new Error('UnsupportedCipher');\n\n        case 10:\n          // structure\n          return [2\n          /*return*/\n          , {\n            encryptedData: encryptedData,\n            encryptionAlgorithm: {\n              algorithm: 'pbes2',\n              parameters: {\n                keyDerivationFunc: {\n                  algorithm: kdfAlgorithm,\n                  parameters: {\n                    salt: {\n                      type: 'specified',\n                      value: Buffer.from(salt)\n                    },\n                    iterationCount: new BN(iterationCount),\n                    prf: {\n                      algorithm: prf,\n                      parameters: Buffer.from([0x05, 0x00])\n                    }\n                  }\n                },\n                encryptionScheme: {\n                  algorithm: cipher,\n                  parameters: iv\n                }\n              }\n            }\n          }];\n      }\n    });\n  });\n}; //////////////////////////////\n// PBES2 RFC8018 Section 6.2.2\n\n\nvar decryptPBES2 = function (decoded, passphrase) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var kdf, eS, keyLength, key, pBuffer, salt, iterationCount, prf, out, iv, CBC, pt, iv, _a, _b;\n\n    return __generator(this, function (_c) {\n      switch (_c.label) {\n        case 0:\n          kdf = decoded.encryptionAlgorithm.parameters.keyDerivationFunc;\n          eS = decoded.encryptionAlgorithm.parameters.encryptionScheme;\n          keyLength = params.encryptionSchemes[eS.algorithm].keyLength;\n          if (!(kdf.algorithm === 'pbkdf2')) return [3\n          /*break*/\n          , 2];\n          pBuffer = js_encoding_utils_1.default.encoder.stringToArrayBuffer(passphrase);\n          if (kdf.parameters.salt.type !== 'specified') throw new Error('UnsupportedSaltSource');\n          salt = new Uint8Array(kdf.parameters.salt.value);\n          iterationCount = kdf.parameters.iterationCount.toNumber();\n          prf = kdf.parameters.prf.algorithm;\n          return [4\n          /*yield*/\n          , js_crypto_pbkdf_1.default.pbkdf2(pBuffer, salt, iterationCount, keyLength, params.pbkdf2Prfs[prf].hash)];\n\n        case 1:\n          key = _c.sent();\n          return [3\n          /*break*/\n          , 3];\n\n        case 2:\n          throw new Error('UnsupportedKDF');\n\n        case 3:\n          if (!(eS.algorithm === 'des-ede3-cbc')) return [3\n          /*break*/\n          , 4];\n          iv = eS.parameters;\n          CBC = des_js_1.default.CBC.instantiate(des_js_1.default.EDE);\n          pt = CBC.create({\n            type: 'decrypt',\n            key: key,\n            iv: iv\n          });\n          out = Buffer.from(pt.update(decoded.encryptedData).concat(pt.final()));\n          return [3\n          /*break*/\n          , 7];\n\n        case 4:\n          if (!(eS.algorithm === 'aes128-cbc' || eS.algorithm === 'aes192-cbc' || eS.algorithm === 'aes256-cbc')) return [3\n          /*break*/\n          , 6];\n          iv = new Uint8Array(eS.parameters);\n          _b = (_a = Buffer).from;\n          return [4\n          /*yield*/\n          , js_crypto_aes_1.default.decrypt(new Uint8Array(decoded.encryptedData), key, {\n            name: 'AES-CBC',\n            iv: iv\n          })];\n\n        case 5:\n          out = _b.apply(_a, [_c.sent()]);\n          return [3\n          /*break*/\n          , 7];\n\n        case 6:\n          throw new Error('UnsupportedEncryptionAlgorithm');\n\n        case 7:\n          return [2\n          /*return*/\n          , asn1def_1.OneAsymmetricKey.decode(out, 'der')];\n      }\n    });\n  });\n}; //////////////////////////////\n// PBES1 RFC8018 Section 6.1.1\n\n\nvar encryptPBES1 = function (binKey, passphrase, algorithm, iterationCount) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var pBuffer, salt, hash, keyIv, key, iv, encrypt, out, CBC, ct;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          pBuffer = js_encoding_utils_1.default.encoder.stringToArrayBuffer(passphrase);\n          return [4\n          /*yield*/\n          , js_crypto_random_1.default.getRandomBytes(8)];\n\n        case 1:\n          salt = _a.sent();\n          hash = params.passwordBasedEncryptionSchemes[algorithm].hash;\n          return [4\n          /*yield*/\n          , js_crypto_pbkdf_1.default.pbkdf1(pBuffer, salt, iterationCount, 16, hash)];\n\n        case 2:\n          keyIv = _a.sent();\n          key = keyIv.slice(0, 8);\n          iv = keyIv.slice(8, 16);\n          encrypt = params.passwordBasedEncryptionSchemes[algorithm].encrypt; // TODO: Other Encryption Scheme\n\n          if (encrypt === 'DES-CBC') {\n            CBC = des_js_1.default.CBC.instantiate(des_js_1.default.DES);\n            ct = CBC.create({\n              type: 'encrypt',\n              key: key,\n              iv: iv\n            });\n            out = Buffer.from(ct.update(binKey).concat(ct.final()));\n          } else throw new Error('UnsupportedEncryptionAlgorithm');\n\n          return [2\n          /*return*/\n          , {\n            encryptionAlgorithm: {\n              algorithm: algorithm,\n              parameters: {\n                salt: Buffer.from(salt),\n                iterationCount: new BN(iterationCount)\n              }\n            },\n            encryptedData: out\n          }];\n      }\n    });\n  });\n}; //////////////////////////////\n// PBES1 RFC8018 Section 6.1.2\n\n\nvar decryptPBES1 = function (decoded, passphrase) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var pBuffer, salt, hash, iterationCount, keyIv, key, iv, encrypt, out, CBC, ct;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          pBuffer = js_encoding_utils_1.default.encoder.stringToArrayBuffer(passphrase);\n          salt = new Uint8Array(decoded.encryptionAlgorithm.parameters.salt);\n          hash = params.passwordBasedEncryptionSchemes[decoded.encryptionAlgorithm.algorithm].hash;\n          iterationCount = decoded.encryptionAlgorithm.parameters.iterationCount.toNumber();\n          return [4\n          /*yield*/\n          , js_crypto_pbkdf_1.default.pbkdf1(pBuffer, salt, iterationCount, 16, hash)];\n\n        case 1:\n          keyIv = _a.sent();\n          key = keyIv.slice(0, 8);\n          iv = keyIv.slice(8, 16);\n          encrypt = params.passwordBasedEncryptionSchemes[decoded.encryptionAlgorithm.algorithm].encrypt; // TODO: Other Encryption Scheme\n\n          if (encrypt === 'DES-CBC') {\n            CBC = des_js_1.default.CBC.instantiate(des_js_1.default.DES);\n            ct = CBC.create({\n              type: 'decrypt',\n              key: key,\n              iv: iv\n            });\n            out = Buffer.from(ct.update(decoded.encryptedData).concat(ct.final()));\n          } else throw new Error('UnsupportedEncryptionAlgorithm');\n\n          return [2\n          /*return*/\n          , asn1def_1.OneAsymmetricKey.decode(out, 'der')];\n      }\n    });\n  });\n};","map":{"version":3,"sources":["/home/paul/Dokumente/Code/ConsensusLessBlockChain/consensusless-blockchain-wallet/node_modules/js-crypto-key-utils/dist/rfc8018.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__importStar","mod","__esModule","k","Object","hasOwnProperty","__importDefault","defineProperty","exports","params","require","asn1def_1","des_js_1","buffer_1","asn1_js_1","js_encoding_utils_1","js_crypto_pbkdf_1","js_crypto_aes_1","js_crypto_random_1","Buffer","default","BN","bignum","encryptEncryptedPrivateKeyInfo","binKey","options","passphrase","kdfAlgorithm","encryptedPBES2","encryptedPBES1","_a","algorithm","iterationCount","cipher","prf","encryptPBES2","encodePBES2","encryptPBES1","encryptionAlgorithm","passwordBasedEncryptionSchemes","oid","parameters","PBEParameter","encode","EncryptedPrivateKeyInfo","decryptEncryptedPrivateKeyInfo","epki","decoded","getAlgorithmFromOidStrict","decodePBES2","decode","encryptedData","decryptPBES2","decryptPBES1","kdf","keyDerivationFunc","pbkdf2Prfs","PBKDF2Params","Error","keyDerivationFunctions","eS","encryptionScheme","keys","PBES2ESParams","indexOf","encryptionSchemes","PBES2Params","rawParams","pbes2Params","salt","pbkdf2Params","type","encryptionParams","pBuffer","keyLength","key","iv","_b","CBC","ct","_c","_d","_e","encoder","stringToArrayBuffer","getRandomBytes","defaultSaltLen","pbkdf2","hash","from","ivLength","instantiate","EDE","create","update","concat","final","encrypt","Uint8Array","name","out","pt","toNumber","decrypt","OneAsymmetricKey","keyIv","pbkdf1","slice","DES"],"mappings":"AAAA;AACA;;;;AAGA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;AACrF,WAASC,KAAT,CAAeC,KAAf,EAAsB;AAAE,WAAOA,KAAK,YAAYH,CAAjB,GAAqBG,KAArB,GAA6B,IAAIH,CAAJ,CAAM,UAAUI,OAAV,EAAmB;AAAEA,MAAAA,OAAO,CAACD,KAAD,CAAP;AAAiB,KAA5C,CAApC;AAAoF;;AAC5G,SAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAT,CAAN,EAAyB,UAAUD,OAAV,EAAmBE,MAAnB,EAA2B;AACvD,aAASC,SAAT,CAAmBJ,KAAnB,EAA0B;AAAE,UAAI;AAAEK,QAAAA,IAAI,CAACP,SAAS,CAACQ,IAAV,CAAeN,KAAf,CAAD,CAAJ;AAA8B,OAApC,CAAqC,OAAOO,CAAP,EAAU;AAAEJ,QAAAA,MAAM,CAACI,CAAD,CAAN;AAAY;AAAE;;AAC3F,aAASC,QAAT,CAAkBR,KAAlB,EAAyB;AAAE,UAAI;AAAEK,QAAAA,IAAI,CAACP,SAAS,CAAC,OAAD,CAAT,CAAmBE,KAAnB,CAAD,CAAJ;AAAkC,OAAxC,CAAyC,OAAOO,CAAP,EAAU;AAAEJ,QAAAA,MAAM,CAACI,CAAD,CAAN;AAAY;AAAE;;AAC9F,aAASF,IAAT,CAAcI,MAAd,EAAsB;AAAEA,MAAAA,MAAM,CAACC,IAAP,GAAcT,OAAO,CAACQ,MAAM,CAACT,KAAR,CAArB,GAAsCD,KAAK,CAACU,MAAM,CAACT,KAAR,CAAL,CAAoBW,IAApB,CAAyBP,SAAzB,EAAoCI,QAApC,CAAtC;AAAsF;;AAC9GH,IAAAA,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAV,CAAgBjB,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDU,IAAzD,EAAD,CAAJ;AACH,GALM,CAAP;AAMH,CARD;;AASA,IAAIO,WAAW,GAAI,QAAQ,KAAKA,WAAd,IAA8B,UAAUlB,OAAV,EAAmBmB,IAAnB,EAAyB;AACrE,MAAIC,CAAC,GAAG;AAAEC,IAAAA,KAAK,EAAE,CAAT;AAAYC,IAAAA,IAAI,EAAE,YAAW;AAAE,UAAIC,CAAC,CAAC,CAAD,CAAD,GAAO,CAAX,EAAc,MAAMA,CAAC,CAAC,CAAD,CAAP;AAAY,aAAOA,CAAC,CAAC,CAAD,CAAR;AAAc,KAAvE;AAAyEC,IAAAA,IAAI,EAAE,EAA/E;AAAmFC,IAAAA,GAAG,EAAE;AAAxF,GAAR;AAAA,MAAsGC,CAAtG;AAAA,MAAyGC,CAAzG;AAAA,MAA4GJ,CAA5G;AAAA,MAA+GK,CAA/G;AACA,SAAOA,CAAC,GAAG;AAAEjB,IAAAA,IAAI,EAAEkB,IAAI,CAAC,CAAD,CAAZ;AAAiB,aAASA,IAAI,CAAC,CAAD,CAA9B;AAAmC,cAAUA,IAAI,CAAC,CAAD;AAAjD,GAAJ,EAA4D,OAAOC,MAAP,KAAkB,UAAlB,KAAiCF,CAAC,CAACE,MAAM,CAACC,QAAR,CAAD,GAAqB,YAAW;AAAE,WAAO,IAAP;AAAc,GAAjF,CAA5D,EAAgJH,CAAvJ;;AACA,WAASC,IAAT,CAAcG,CAAd,EAAiB;AAAE,WAAO,UAAUC,CAAV,EAAa;AAAE,aAAOvB,IAAI,CAAC,CAACsB,CAAD,EAAIC,CAAJ,CAAD,CAAX;AAAsB,KAA5C;AAA+C;;AAClE,WAASvB,IAAT,CAAcwB,EAAd,EAAkB;AACd,QAAIR,CAAJ,EAAO,MAAM,IAAIS,SAAJ,CAAc,iCAAd,CAAN;;AACP,WAAOf,CAAP,EAAU,IAAI;AACV,UAAIM,CAAC,GAAG,CAAJ,EAAOC,CAAC,KAAKJ,CAAC,GAAGW,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAR,GAAYP,CAAC,CAAC,QAAD,CAAb,GAA0BO,EAAE,CAAC,CAAD,CAAF,GAAQP,CAAC,CAAC,OAAD,CAAD,KAAe,CAACJ,CAAC,GAAGI,CAAC,CAAC,QAAD,CAAN,KAAqBJ,CAAC,CAACa,IAAF,CAAOT,CAAP,CAArB,EAAgC,CAA/C,CAAR,GAA4DA,CAAC,CAAChB,IAAjG,CAAD,IAA2G,CAAC,CAACY,CAAC,GAAGA,CAAC,CAACa,IAAF,CAAOT,CAAP,EAAUO,EAAE,CAAC,CAAD,CAAZ,CAAL,EAAuBnB,IAA9I,EAAoJ,OAAOQ,CAAP;AACpJ,UAAII,CAAC,GAAG,CAAJ,EAAOJ,CAAX,EAAcW,EAAE,GAAG,CAACA,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAT,EAAYX,CAAC,CAAClB,KAAd,CAAL;;AACd,cAAQ6B,EAAE,CAAC,CAAD,CAAV;AACI,aAAK,CAAL;AAAQ,aAAK,CAAL;AAAQX,UAAAA,CAAC,GAAGW,EAAJ;AAAQ;;AACxB,aAAK,CAAL;AAAQd,UAAAA,CAAC,CAACC,KAAF;AAAW,iBAAO;AAAEhB,YAAAA,KAAK,EAAE6B,EAAE,CAAC,CAAD,CAAX;AAAgBnB,YAAAA,IAAI,EAAE;AAAtB,WAAP;;AACnB,aAAK,CAAL;AAAQK,UAAAA,CAAC,CAACC,KAAF;AAAWM,UAAAA,CAAC,GAAGO,EAAE,CAAC,CAAD,CAAN;AAAWA,UAAAA,EAAE,GAAG,CAAC,CAAD,CAAL;AAAU;;AACxC,aAAK,CAAL;AAAQA,UAAAA,EAAE,GAAGd,CAAC,CAACK,GAAF,CAAMY,GAAN,EAAL;;AAAkBjB,UAAAA,CAAC,CAACI,IAAF,CAAOa,GAAP;;AAAc;;AACxC;AACI,cAAI,EAAEd,CAAC,GAAGH,CAAC,CAACI,IAAN,EAAYD,CAAC,GAAGA,CAAC,CAACe,MAAF,GAAW,CAAX,IAAgBf,CAAC,CAACA,CAAC,CAACe,MAAF,GAAW,CAAZ,CAAnC,MAAuDJ,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAhF,CAAJ,EAAwF;AAAEd,YAAAA,CAAC,GAAG,CAAJ;AAAO;AAAW;;AAC5G,cAAIc,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,KAAgB,CAACX,CAAD,IAAOW,EAAE,CAAC,CAAD,CAAF,GAAQX,CAAC,CAAC,CAAD,CAAT,IAAgBW,EAAE,CAAC,CAAD,CAAF,GAAQX,CAAC,CAAC,CAAD,CAAhD,CAAJ,EAA2D;AAAEH,YAAAA,CAAC,CAACC,KAAF,GAAUa,EAAE,CAAC,CAAD,CAAZ;AAAiB;AAAQ;;AACtF,cAAIA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAed,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAA9B,EAAmC;AAAEH,YAAAA,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAAX;AAAgBA,YAAAA,CAAC,GAAGW,EAAJ;AAAQ;AAAQ;;AACrE,cAAIX,CAAC,IAAIH,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAApB,EAAyB;AAAEH,YAAAA,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAAX;;AAAgBH,YAAAA,CAAC,CAACK,GAAF,CAAMc,IAAN,CAAWL,EAAX;;AAAgB;AAAQ;;AACnE,cAAIX,CAAC,CAAC,CAAD,CAAL,EAAUH,CAAC,CAACK,GAAF,CAAMY,GAAN;;AACVjB,UAAAA,CAAC,CAACI,IAAF,CAAOa,GAAP;;AAAc;AAXtB;;AAaAH,MAAAA,EAAE,GAAGf,IAAI,CAACiB,IAAL,CAAUpC,OAAV,EAAmBoB,CAAnB,CAAL;AACH,KAjBS,CAiBR,OAAOR,CAAP,EAAU;AAAEsB,MAAAA,EAAE,GAAG,CAAC,CAAD,EAAItB,CAAJ,CAAL;AAAae,MAAAA,CAAC,GAAG,CAAJ;AAAQ,KAjBzB,SAiBkC;AAAED,MAAAA,CAAC,GAAGH,CAAC,GAAG,CAAR;AAAY;;AAC1D,QAAIW,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAZ,EAAe,MAAMA,EAAE,CAAC,CAAD,CAAR;AAAa,WAAO;AAAE7B,MAAAA,KAAK,EAAE6B,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAV,GAAgB,KAAK,CAA9B;AAAiCnB,MAAAA,IAAI,EAAE;AAAvC,KAAP;AAC/B;AACJ,CA1BD;;AA2BA,IAAIyB,YAAY,GAAI,QAAQ,KAAKA,YAAd,IAA+B,UAAUC,GAAV,EAAe;AAC7D,MAAIA,GAAG,IAAIA,GAAG,CAACC,UAAf,EAA2B,OAAOD,GAAP;AAC3B,MAAI3B,MAAM,GAAG,EAAb;AACA,MAAI2B,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAIE,CAAT,IAAcF,GAAd,EAAmB,IAAIG,MAAM,CAACC,cAAP,CAAsBT,IAAtB,CAA2BK,GAA3B,EAAgCE,CAAhC,CAAJ,EAAwC7B,MAAM,CAAC6B,CAAD,CAAN,GAAYF,GAAG,CAACE,CAAD,CAAf;AAC5E7B,EAAAA,MAAM,CAAC,SAAD,CAAN,GAAoB2B,GAApB;AACA,SAAO3B,MAAP;AACH,CAND;;AAOA,IAAIgC,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUL,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAG,MAAM,CAACG,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAE3C,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAI4C,MAAM,GAAGT,YAAY,CAACU,OAAO,CAAC,UAAD,CAAR,CAAzB;;AACA,IAAIC,SAAS,GAAGD,OAAO,CAAC,WAAD,CAAvB;;AACA,IAAIE,QAAQ,GAAGN,eAAe,CAACI,OAAO,CAAC,QAAD,CAAR,CAA9B;;AACA,IAAIG,QAAQ,GAAGP,eAAe,CAACI,OAAO,CAAC,QAAD,CAAR,CAA9B;;AACA,IAAII,SAAS,GAAGR,eAAe,CAACI,OAAO,CAAC,SAAD,CAAR,CAA/B;;AACA,IAAIK,mBAAmB,GAAGT,eAAe,CAACI,OAAO,CAAC,mBAAD,CAAR,CAAzC;;AACA,IAAIM,iBAAiB,GAAGV,eAAe,CAACI,OAAO,CAAC,iBAAD,CAAR,CAAvC;;AACA,IAAIO,eAAe,GAAGX,eAAe,CAACI,OAAO,CAAC,eAAD,CAAR,CAArC;;AACA,IAAIQ,kBAAkB,GAAGZ,eAAe,CAACI,OAAO,CAAC,kBAAD,CAAR,CAAxC;;AACA,IAAIS,MAAM,GAAGN,QAAQ,CAACO,OAAT,CAAiBD,MAA9B;AACA,IAAIE,EAAE,GAAGP,SAAS,CAACM,OAAV,CAAkBE,MAA3B,C,CACA;;AACA;;;;;;;AAMAd,OAAO,CAACe,8BAAR,GAAyC,UAAUC,MAAV,EAAkBC,OAAlB,EAA2B;AAChE,MAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,IAAAA,OAAO,GAAG;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAAV;AAA+B;;AACzD,SAAOnE,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AACjD,QAAIoE,YAAJ,EAAkBC,cAAlB,EAAkCC,cAAlC;AACA,WAAOnD,WAAW,CAAC,IAAD,EAAO,UAAUoD,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACjD,KAAX;AACI,aAAK,CAAL;AACI;AACA,cAAI,OAAO4C,OAAO,CAACM,SAAf,KAA6B,WAAjC,EACIN,OAAO,CAACM,SAAR,GAAoB,OAApB;AACJ,cAAI,OAAON,OAAO,CAACO,cAAf,KAAkC,WAAtC,EACIP,OAAO,CAACO,cAAR,GAAyB,IAAzB;AACJ,cAAI,EAAEP,OAAO,CAACM,SAAR,KAAsB,OAAxB,CAAJ,EAAsC,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AACtC,cAAI,OAAON,OAAO,CAACQ,MAAf,KAA0B,WAA9B,EACIR,OAAO,CAACQ,MAAR,GAAiB,YAAjB;AACJ,cAAI,OAAOR,OAAO,CAACS,GAAf,KAAuB,WAA3B,EACIT,OAAO,CAACS,GAAR,GAAc,gBAAd;AACJP,UAAAA,YAAY,GAAG,QAAf;AACA,iBAAO,CAAC;AAAE;AAAH,YAAcQ,YAAY,CAACX,MAAD,EAASC,OAAO,CAACC,UAAjB,EAA6BC,YAA7B,EAA2CF,OAAO,CAACS,GAAnD,EAAwDT,OAAO,CAACO,cAAhE,EAAgFP,OAAO,CAACQ,MAAxF,CAA1B,CAAP;;AACJ,aAAK,CAAL;AACIL,UAAAA,cAAc,GAAGE,EAAE,CAAChD,IAAH,EAAjB;AACA,iBAAO,CAAC;AAAE;AAAH,YAAesD,WAAW,CAACR,cAAD,CAA1B,CAAP;;AACJ,aAAK,CAAL;AAAQ,iBAAO,CAAC;AAAE;AAAH,YAAcS,YAAY,CAACb,MAAD,EAASC,OAAO,CAACC,UAAjB,EAA6BD,OAAO,CAACM,SAArC,EAAgDN,OAAO,CAACO,cAAxD,CAA1B,CAAP;;AACR,aAAK,CAAL;AACIH,UAAAA,cAAc,GAAGC,EAAE,CAAChD,IAAH,EAAjB;AACA+C,UAAAA,cAAc,CAACS,mBAAf,CAAmCP,SAAnC,GAA+CtB,MAAM,CAAC8B,8BAAP,CAAsCV,cAAc,CAACS,mBAAf,CAAmCP,SAAzE,EAAoFS,GAAnI,CAFJ,CAE4I;;AACxIX,UAAAA,cAAc,CAACS,mBAAf,CAAmCG,UAAnC,GAAgD9B,SAAS,CAAC+B,YAAV,CAAuBC,MAAvB,CAA8Bd,cAAc,CAACS,mBAAf,CAAmCG,UAAjE,EAA6E,KAA7E,CAAhD;AACA,iBAAO,CAAC;AAAE;AAAH,YAAe9B,SAAS,CAACiC,uBAAV,CAAkCD,MAAlC,CAAyCd,cAAzC,EAAyD,KAAzD,CAAf,CAAP;AAtBR;AAwBH,KAzBiB,CAAlB;AA0BH,GA5Be,CAAhB;AA6BH,CA/BD;AAgCA;;;;;;;;AAMArB,OAAO,CAACqC,8BAAR,GAAyC,UAAUC,IAAV,EAAgBpB,UAAhB,EAA4B;AAAE,SAAOnE,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AACxH,QAAIwF,OAAJ;AACA,WAAOrE,WAAW,CAAC,IAAD,EAAO,UAAUoD,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACjD,KAAX;AACI,aAAK,CAAL;AACIkE,UAAAA,OAAO,GAAG,EAAV,CADJ,CAEI;;AACAA,UAAAA,OAAO,CAACT,mBAAR,GAA8B;AAC1BP,YAAAA,SAAS,EAAEtB,MAAM,CAACuC,yBAAP,CAAiCF,IAAI,CAACR,mBAAL,CAAyBP,SAA1D,EAAqEtB,MAAM,CAAC8B,8BAA5E;AADe,WAA9B;;AAGA,cAAIQ,OAAO,CAACT,mBAAR,CAA4BP,SAA5B,KAA0C,OAA9C,EAAuD;AACnDgB,YAAAA,OAAO,CAACT,mBAAR,CAA4BG,UAA5B,GAAyCQ,WAAW,CAACH,IAAI,CAACR,mBAAL,CAAyBG,UAA1B,CAApD;AACH,WAFD,MAGK;AACDM,YAAAA,OAAO,CAACT,mBAAR,CAA4BG,UAA5B,GAAyC9B,SAAS,CAAC+B,YAAV,CAAuBQ,MAAvB,CAA8BJ,IAAI,CAACR,mBAAL,CAAyBG,UAAvD,EAAmE,KAAnE,CAAzC;AACH;;AACDM,UAAAA,OAAO,CAACI,aAAR,GAAwBL,IAAI,CAACK,aAA7B;AACA,cAAI,EAAEJ,OAAO,CAACT,mBAAR,CAA4BP,SAA5B,KAA0C,OAA5C,CAAJ,EAA0D,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AAC1D,iBAAO,CAAC;AAAE;AAAH,YAAcqB,YAAY,CAACL,OAAD,EAAUrB,UAAV,CAA1B,CAAP;;AACJ,aAAK,CAAL;AAAQ,iBAAO,CAAC;AAAE;AAAH,YAAeI,EAAE,CAAChD,IAAH,EAAf,CAAP;AAAkC;;AAC1C,aAAK,CAAL;AAAQ,iBAAO,CAAC;AAAE;AAAH,YAAcuE,YAAY,CAACN,OAAD,EAAUrB,UAAV,CAA1B,CAAP;;AACR,aAAK,CAAL;AAAQ,iBAAO,CAAC;AAAE;AAAH,YAAeI,EAAE,CAAChD,IAAH,EAAf,CAAP;AAlBZ;AAoBH,KArBiB,CAAlB;AAsBH,GAxBsF,CAAhB;AAwBlE,CAxBL,C,CAyBA;;;AACA,IAAIsD,WAAW,GAAG,UAAUW,OAAV,CAAkB;AAAlB,EAChB;AACE,MAAID,IAAI,GAAG;AAAER,IAAAA,mBAAmB,EAAE;AAAvB,GAAX,CADF,CAC0C;AACxC;;AACAQ,EAAAA,IAAI,CAACR,mBAAL,CAAyBP,SAAzB,GAAqCtB,MAAM,CAAC8B,8BAAP,CAAsCQ,OAAO,CAACT,mBAAR,CAA4BP,SAAlE,EAA6ES,GAAlH,CAHF,CAIE;;AACA,MAAIc,GAAG,GAAGP,OAAO,CAACT,mBAAR,CAA4BG,UAA5B,CAAuCc,iBAAjD;;AACA,MAAID,GAAG,CAACvB,SAAJ,KAAkB,QAAtB,EAAgC;AAC5BuB,IAAAA,GAAG,CAACb,UAAJ,CAAeP,GAAf,CAAmBH,SAAnB,GAA+BtB,MAAM,CAAC+C,UAAP,CAAkBF,GAAG,CAACb,UAAJ,CAAeP,GAAf,CAAmBH,SAArC,EAAgDS,GAA/E;AACAc,IAAAA,GAAG,CAACb,UAAJ,GAAiB9B,SAAS,CAAC8C,YAAV,CAAuBd,MAAvB,CAA8BW,GAAG,CAACb,UAAlC,EAA8C,KAA9C,CAAjB;AACH,GAHD,MAKI,MAAM,IAAIiB,KAAJ,CAAU,gBAAV,CAAN;;AACJJ,EAAAA,GAAG,CAACvB,SAAJ,GAAgBtB,MAAM,CAACkD,sBAAP,CAA8BL,GAAG,CAACvB,SAAlC,EAA6CS,GAA7D,CAZF,CAaE;;AACA,MAAIoB,EAAE,GAAGb,OAAO,CAACT,mBAAR,CAA4BG,UAA5B,CAAuCoB,gBAAhD;;AACA,MAAIzD,MAAM,CAAC0D,IAAP,CAAYnD,SAAS,CAACoD,aAAtB,EAAqCC,OAArC,CAA6CJ,EAAE,CAAC7B,SAAhD,KAA8D,CAAlE,EAAqE;AACjE6B,IAAAA,EAAE,CAACnB,UAAH,GAAgB9B,SAAS,CAACoD,aAAV,CAAwBH,EAAE,CAAC7B,SAA3B,EAAsCY,MAAtC,CAA6CiB,EAAE,CAACnB,UAAhD,EAA4D,KAA5D,CAAhB;AACH,GAFD,MAII,MAAM,IAAIiB,KAAJ,CAAU,mBAAV,CAAN;;AACJE,EAAAA,EAAE,CAAC7B,SAAH,GAAetB,MAAM,CAACwD,iBAAP,CAAyBL,EAAE,CAAC7B,SAA5B,EAAuCS,GAAtD,CApBF,CAqBE;;AACAM,EAAAA,IAAI,CAACR,mBAAL,CAAyBG,UAAzB,GAAsC9B,SAAS,CAACuD,WAAV,CAAsBvB,MAAtB,CAA6B;AAAEY,IAAAA,iBAAiB,EAAED,GAArB;AAA0BO,IAAAA,gBAAgB,EAAED;AAA5C,GAA7B,EAA+E,KAA/E,CAAtC,CAtBF,CAuBE;;AACAd,EAAAA,IAAI,CAACK,aAAL,GAAqBJ,OAAO,CAACI,aAA7B;AACA,SAAOxC,SAAS,CAACiC,uBAAV,CAAkCD,MAAlC,CAAyCG,IAAzC,EAA+C,KAA/C,CAAP;AACH,CA3BD;;AA4BA,IAAIG,WAAW,GAAG,UAAUkB,SAAV,EAAqB;AACnC,MAAIC,WAAW,GAAGzD,SAAS,CAACuD,WAAV,CAAsBhB,MAAtB,CAA6BiB,SAA7B,EAAwC,KAAxC,CAAlB,CADmC,CAEnC;;AACA,MAAIxC,YAAY,GAAGlB,MAAM,CAACuC,yBAAP,CAAiCoB,WAAW,CAACb,iBAAZ,CAA8BxB,SAA/D,EAA0EtB,MAAM,CAACkD,sBAAjF,CAAnB;AACA,MAAI3B,cAAJ;AACA,MAAIqC,IAAJ;AACA,MAAInC,GAAJ;;AACA,MAAIP,YAAY,KAAK,QAArB,EAA+B;AAC3B,QAAI2C,YAAY,GAAG3D,SAAS,CAAC8C,YAAV,CAAuBP,MAAvB,CAA8BkB,WAAW,CAACb,iBAAZ,CAA8Bd,UAA5D,EAAwE,KAAxE,CAAnB;AACAP,IAAAA,GAAG,GAAG;AACFH,MAAAA,SAAS,EAAEtB,MAAM,CAACuC,yBAAP,CAAiCsB,YAAY,CAACpC,GAAb,CAAiBH,SAAlD,EAA6DtB,MAAM,CAAC+C,UAApE,CADT;AAEFf,MAAAA,UAAU,EAAE6B,YAAY,CAACpC,GAAb,CAAiBO;AAF3B,KAAN;AAIAT,IAAAA,cAAc,GAAGsC,YAAY,CAACtC,cAA9B;AACAqC,IAAAA,IAAI,GAAG;AAAEE,MAAAA,IAAI,EAAED,YAAY,CAACD,IAAb,CAAkBE,IAA1B;AAAgC1G,MAAAA,KAAK,EAAEyG,YAAY,CAACD,IAAb,CAAkBxG;AAAzD,KAAP;AACH,GARD,MAUI,MAAM,IAAI6F,KAAJ,CAAU,gBAAV,CAAN,CAjB+B,CAkBnC;;;AACA,MAAIG,gBAAgB,GAAGpD,MAAM,CAACuC,yBAAP,CAAiCoB,WAAW,CAACP,gBAAZ,CAA6B9B,SAA9D,EAAyEtB,MAAM,CAACwD,iBAAhF,CAAvB;AACA,MAAIO,gBAAJ;;AACA,MAAIpE,MAAM,CAAC0D,IAAP,CAAYnD,SAAS,CAACoD,aAAtB,EAAqCC,OAArC,CAA6CH,gBAA7C,KAAkE,CAAtE,EAAyE;AACrEW,IAAAA,gBAAgB,GAAG7D,SAAS,CAACoD,aAAV,CAAwBF,gBAAxB,EAA0CX,MAA1C,CAAiDkB,WAAW,CAACP,gBAAZ,CAA6BpB,UAA9E,EAA0F,KAA1F,CAAnB;AACH,GAFD,MAII,MAAM,IAAIiB,KAAJ,CAAU,mBAAV,CAAN,CAzB+B,CAyBO;;;AAC1C,SAAO;AACHH,IAAAA,iBAAiB,EAAE;AACfxB,MAAAA,SAAS,EAAEJ,YADI;AAEfc,MAAAA,UAAU,EAAE;AAAE4B,QAAAA,IAAI,EAAEA,IAAR;AAAcrC,QAAAA,cAAc,EAAEA,cAA9B;AAA8CE,QAAAA,GAAG,EAAEA;AAAnD;AAFG,KADhB;AAKH2B,IAAAA,gBAAgB,EAAE;AACd9B,MAAAA,SAAS,EAAE8B,gBADG;AAEdpB,MAAAA,UAAU,EAAE+B;AAFE;AALf,GAAP;AAUH,CApCD,C,CAqCA;AACA;;;AACA,IAAIrC,YAAY,GAAG,UAAUX,MAAV,EAAkBE,UAAlB,EAA8BC,YAA9B,EAA4CO,GAA5C,EAAiDF,cAAjD,EAAiEC,MAAjE,EAAyE;AAAE,SAAO1E,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AAC/I,QAAIkH,OAAJ,EAAaJ,IAAb,EAAmBK,SAAnB,EAA8BC,GAA9B,EAAmCC,EAAnC,EAAuCzB,aAAvC,EAAsDrB,EAAtD,EAA0D+C,EAA1D,EAA8DC,GAA9D,EAAmEC,EAAnE,EAAuEC,EAAvE,EAA2EC,EAA3E;;AACA,WAAOvG,WAAW,CAAC,IAAD,EAAO,UAAUwG,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACrG,KAAX;AACI,aAAK,CAAL;AACI4F,UAAAA,OAAO,GAAG1D,mBAAmB,CAACK,OAApB,CAA4B+D,OAA5B,CAAoCC,mBAApC,CAAwD1D,UAAxD,CAAV;AACA,iBAAO,CAAC;AAAE;AAAH,YAAcR,kBAAkB,CAACE,OAAnB,CAA2BiE,cAA3B,CAA0C5E,MAAM,CAACkD,sBAAP,CAA8BhC,YAA9B,EAA4C2D,cAAtF,CAAd,CAAP;;AACJ,aAAK,CAAL;AACIjB,UAAAA,IAAI,GAAGa,EAAE,CAACpG,IAAH,EAAP;AACA4F,UAAAA,SAAS,GAAGjE,MAAM,CAACwD,iBAAP,CAAyBhC,MAAzB,EAAiCyC,SAA7C;AACA,cAAI,EAAE/C,YAAY,KAAK,QAAnB,CAAJ,EAAkC,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AAClC,iBAAO,CAAC;AAAE;AAAH,YAAcX,iBAAiB,CAACI,OAAlB,CAA0BmE,MAA1B,CAAiCd,OAAjC,EAA0CJ,IAA1C,EAAgDrC,cAAhD,EAAgE0C,SAAhE,EAA2EjE,MAAM,CAAC+C,UAAP,CAAkBtB,GAAlB,EAAuBsD,IAAlG,CAAd,CAAP;;AACJ,aAAK,CAAL;AACIb,UAAAA,GAAG,GAAGO,EAAE,CAACpG,IAAH,EAAN,CADJ,CACqB;;AACjB,iBAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;;AACJ,aAAK,CAAL;AAAQ,gBAAM,IAAI4E,KAAJ,CAAU,gBAAV,CAAN;;AACR,aAAK,CAAL;AACI,cAAI,EAAEzB,MAAM,KAAK,cAAb,CAAJ,EAAkC,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AAClC4C,UAAAA,EAAE,GAAG,CAAC/C,EAAE,GAAGX,MAAN,EAAcsE,IAAnB;AACA,iBAAO,CAAC;AAAE;AAAH,YAAcvE,kBAAkB,CAACE,OAAnB,CAA2BiE,cAA3B,CAA0C5E,MAAM,CAACwD,iBAAP,CAAyBhC,MAAzB,EAAiCyD,QAA3E,CAAd,CAAP;;AACJ,aAAK,CAAL;AACId,UAAAA,EAAE,GAAGC,EAAE,CAACpG,KAAH,CAASqD,EAAT,EAAa,CAACoD,EAAE,CAACpG,IAAH,EAAD,CAAb,CAAL;AACAgG,UAAAA,GAAG,GAAGlE,QAAQ,CAACQ,OAAT,CAAiB0D,GAAjB,CAAqBa,WAArB,CAAiC/E,QAAQ,CAACQ,OAAT,CAAiBwE,GAAlD,CAAN;AACAb,UAAAA,EAAE,GAAGD,GAAG,CAACe,MAAJ,CAAW;AAAEtB,YAAAA,IAAI,EAAE,SAAR;AAAmBI,YAAAA,GAAG,EAAExD,MAAM,CAACsE,IAAP,CAAYd,GAAZ,CAAxB;AAA0CC,YAAAA,EAAE,EAAEA;AAA9C,WAAX,CAAL;AACAzB,UAAAA,aAAa,GAAGhC,MAAM,CAACsE,IAAP,CAAYV,EAAE,CAACe,MAAH,CAAUtE,MAAV,EAAkBuE,MAAlB,CAAyBhB,EAAE,CAACiB,KAAH,EAAzB,CAAZ,CAAhB;AACA,iBAAO,CAAC;AAAE;AAAH,YAAc,EAAd,CAAP;;AACJ,aAAK,CAAL;AACI,cAAI,EAAE/D,MAAM,KAAK,YAAX,IAA2BA,MAAM,KAAK,YAAtC,IAAsDA,MAAM,KAAK,YAAnE,CAAJ,EAAsF,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AACtF,iBAAO,CAAC;AAAE;AAAH,YAAcf,kBAAkB,CAACE,OAAnB,CAA2BiE,cAA3B,CAA0C5E,MAAM,CAACwD,iBAAP,CAAyBhC,MAAzB,EAAiCyD,QAA3E,CAAd,CAAP;;AACJ,aAAK,CAAL;AACId,UAAAA,EAAE,GAAGM,EAAE,CAACpG,IAAH,EAAL;AACAmG,UAAAA,EAAE,GAAG,CAACD,EAAE,GAAG7D,MAAN,EAAcsE,IAAnB;AACA,iBAAO,CAAC;AAAE;AAAH,YAAcxE,eAAe,CAACG,OAAhB,CAAwB6E,OAAxB,CAAgC,IAAIC,UAAJ,CAAe1E,MAAf,CAAhC,EAAwDmD,GAAxD,EAA6D;AAAEwB,YAAAA,IAAI,EAAE,SAAR;AAAmBvB,YAAAA,EAAE,EAAEA;AAAvB,WAA7D,CAAd,CAAP;;AACJ,aAAK,CAAL;AACIzB,UAAAA,aAAa,GAAG8B,EAAE,CAACxG,KAAH,CAASuG,EAAT,EAAa,CAACE,EAAE,CAACpG,IAAH,EAAD,CAAb,CAAhB;AACA8F,UAAAA,EAAE,GAAGzD,MAAM,CAACsE,IAAP,CAAYb,EAAZ,CAAL;AACA,iBAAO,CAAC;AAAE;AAAH,YAAc,EAAd,CAAP;;AACJ,aAAK,CAAL;AAAQ,gBAAM,IAAIlB,KAAJ,CAAU,mBAAV,CAAN;;AACR,aAAK,EAAL;AACA;AACA,iBAAO,CAAC;AAAE;AAAH,YAAe;AACdP,YAAAA,aAAa,EAAEA,aADD;AAEdb,YAAAA,mBAAmB,EAAE;AACjBP,cAAAA,SAAS,EAAE,OADM;AAEjBU,cAAAA,UAAU,EAAE;AACRc,gBAAAA,iBAAiB,EAAE;AACfxB,kBAAAA,SAAS,EAAEJ,YADI;AAEfc,kBAAAA,UAAU,EAAE;AACR4B,oBAAAA,IAAI,EAAE;AAAEE,sBAAAA,IAAI,EAAE,WAAR;AAAqB1G,sBAAAA,KAAK,EAAEsD,MAAM,CAACsE,IAAP,CAAYpB,IAAZ;AAA5B,qBADE;AAERrC,oBAAAA,cAAc,EAAE,IAAIX,EAAJ,CAAOW,cAAP,CAFR;AAGRE,oBAAAA,GAAG,EAAE;AAAEH,sBAAAA,SAAS,EAAEG,GAAb;AAAkBO,sBAAAA,UAAU,EAAEtB,MAAM,CAACsE,IAAP,CAAY,CAAC,IAAD,EAAO,IAAP,CAAZ;AAA9B;AAHG;AAFG,iBADX;AASR5B,gBAAAA,gBAAgB,EAAE;AAAE9B,kBAAAA,SAAS,EAAEE,MAAb;AAAqBQ,kBAAAA,UAAU,EAAEmC;AAAjC;AATV;AAFK;AAFP,WAAf,CAAP;AArCJ;AAuDH,KAxDiB,CAAlB;AAyDH,GA3D6G,CAAhB;AA2DzF,CA3DL,C,CA4DA;AACA;;;AACA,IAAIxB,YAAY,GAAG,UAAUL,OAAV,EAAmBrB,UAAnB,EAA+B;AAAE,SAAOnE,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AACrG,QAAI+F,GAAJ,EAASM,EAAT,EAAac,SAAb,EAAwBC,GAAxB,EAA6BF,OAA7B,EAAsCJ,IAAtC,EAA4CrC,cAA5C,EAA4DE,GAA5D,EAAiEkE,GAAjE,EAAsExB,EAAtE,EAA0EE,GAA1E,EAA+EuB,EAA/E,EAAmFzB,EAAnF,EAAuF9C,EAAvF,EAA2F+C,EAA3F;;AACA,WAAOnG,WAAW,CAAC,IAAD,EAAO,UAAUsG,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACnG,KAAX;AACI,aAAK,CAAL;AACIyE,UAAAA,GAAG,GAAGP,OAAO,CAACT,mBAAR,CAA4BG,UAA5B,CAAuCc,iBAA7C;AACAK,UAAAA,EAAE,GAAGb,OAAO,CAACT,mBAAR,CAA4BG,UAA5B,CAAuCoB,gBAA5C;AACAa,UAAAA,SAAS,GAAGjE,MAAM,CAACwD,iBAAP,CAAyBL,EAAE,CAAC7B,SAA5B,EAAuC2C,SAAnD;AACA,cAAI,EAAEpB,GAAG,CAACvB,SAAJ,KAAkB,QAApB,CAAJ,EAAmC,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AACnC0C,UAAAA,OAAO,GAAG1D,mBAAmB,CAACK,OAApB,CAA4B+D,OAA5B,CAAoCC,mBAApC,CAAwD1D,UAAxD,CAAV;AACA,cAAI4B,GAAG,CAACb,UAAJ,CAAe4B,IAAf,CAAoBE,IAApB,KAA6B,WAAjC,EACI,MAAM,IAAIb,KAAJ,CAAU,uBAAV,CAAN;AACJW,UAAAA,IAAI,GAAG,IAAI6B,UAAJ,CAAe5C,GAAG,CAACb,UAAJ,CAAe4B,IAAf,CAAoBxG,KAAnC,CAAP;AACAmE,UAAAA,cAAc,GAAGsB,GAAG,CAACb,UAAJ,CAAeT,cAAf,CAA8BsE,QAA9B,EAAjB;AACApE,UAAAA,GAAG,GAAGoB,GAAG,CAACb,UAAJ,CAAeP,GAAf,CAAmBH,SAAzB;AACA,iBAAO,CAAC;AAAE;AAAH,YAAcf,iBAAiB,CAACI,OAAlB,CAA0BmE,MAA1B,CAAiCd,OAAjC,EAA0CJ,IAA1C,EAAgDrC,cAAhD,EAAgE0C,SAAhE,EAA2EjE,MAAM,CAAC+C,UAAP,CAAkBtB,GAAlB,EAAuBsD,IAAlG,CAAd,CAAP;;AACJ,aAAK,CAAL;AACIb,UAAAA,GAAG,GAAGK,EAAE,CAAClG,IAAH,EAAN;AACA,iBAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;;AACJ,aAAK,CAAL;AAAQ,gBAAM,IAAI4E,KAAJ,CAAU,gBAAV,CAAN;;AACR,aAAK,CAAL;AACI,cAAI,EAAEE,EAAE,CAAC7B,SAAH,KAAiB,cAAnB,CAAJ,EAAwC,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AACxC6C,UAAAA,EAAE,GAAGhB,EAAE,CAACnB,UAAR;AACAqC,UAAAA,GAAG,GAAGlE,QAAQ,CAACQ,OAAT,CAAiB0D,GAAjB,CAAqBa,WAArB,CAAiC/E,QAAQ,CAACQ,OAAT,CAAiBwE,GAAlD,CAAN;AACAS,UAAAA,EAAE,GAAGvB,GAAG,CAACe,MAAJ,CAAW;AAAEtB,YAAAA,IAAI,EAAE,SAAR;AAAmBI,YAAAA,GAAG,EAAEA,GAAxB;AAA6BC,YAAAA,EAAE,EAAEA;AAAjC,WAAX,CAAL;AACAwB,UAAAA,GAAG,GAAGjF,MAAM,CAACsE,IAAP,CAAYY,EAAE,CAACP,MAAH,CAAU/C,OAAO,CAACI,aAAlB,EAAiC4C,MAAjC,CAAwCM,EAAE,CAACL,KAAH,EAAxC,CAAZ,CAAN;AACA,iBAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;;AACJ,aAAK,CAAL;AACI,cAAI,EAAEpC,EAAE,CAAC7B,SAAH,KAAiB,YAAjB,IAAiC6B,EAAE,CAAC7B,SAAH,KAAiB,YAAlD,IAAkE6B,EAAE,CAAC7B,SAAH,KAAiB,YAArF,CAAJ,EAAwG,OAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;AACxG6C,UAAAA,EAAE,GAAG,IAAIsB,UAAJ,CAAetC,EAAE,CAACnB,UAAlB,CAAL;AACAoC,UAAAA,EAAE,GAAG,CAAC/C,EAAE,GAAGX,MAAN,EAAcsE,IAAnB;AACA,iBAAO,CAAC;AAAE;AAAH,YAAcxE,eAAe,CAACG,OAAhB,CAAwBmF,OAAxB,CAAgC,IAAIL,UAAJ,CAAenD,OAAO,CAACI,aAAvB,CAAhC,EAAuEwB,GAAvE,EAA4E;AAAEwB,YAAAA,IAAI,EAAE,SAAR;AAAmBvB,YAAAA,EAAE,EAAEA;AAAvB,WAA5E,CAAd,CAAP;;AACJ,aAAK,CAAL;AACIwB,UAAAA,GAAG,GAAGvB,EAAE,CAACpG,KAAH,CAASqD,EAAT,EAAa,CAACkD,EAAE,CAAClG,IAAH,EAAD,CAAb,CAAN;AACA,iBAAO,CAAC;AAAE;AAAH,YAAc,CAAd,CAAP;;AACJ,aAAK,CAAL;AAAQ,gBAAM,IAAI4E,KAAJ,CAAU,gCAAV,CAAN;;AACR,aAAK,CAAL;AAAQ,iBAAO,CAAC;AAAE;AAAH,YAAe/C,SAAS,CAAC6F,gBAAV,CAA2BtD,MAA3B,CAAkCkD,GAAlC,EAAuC,KAAvC,CAAf,CAAP;AAjCZ;AAmCH,KApCiB,CAAlB;AAqCH,GAvCmE,CAAhB;AAuC/C,CAvCL,C,CAwCA;AACA;;;AACA,IAAI/D,YAAY,GAAG,UAAUb,MAAV,EAAkBE,UAAlB,EAA8BK,SAA9B,EAAyCC,cAAzC,EAAyD;AAAE,SAAOzE,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AAC/H,QAAIkH,OAAJ,EAAaJ,IAAb,EAAmBmB,IAAnB,EAAyBiB,KAAzB,EAAgC9B,GAAhC,EAAqCC,EAArC,EAAyCqB,OAAzC,EAAkDG,GAAlD,EAAuDtB,GAAvD,EAA4DC,EAA5D;AACA,WAAOrG,WAAW,CAAC,IAAD,EAAO,UAAUoD,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACjD,KAAX;AACI,aAAK,CAAL;AACI4F,UAAAA,OAAO,GAAG1D,mBAAmB,CAACK,OAApB,CAA4B+D,OAA5B,CAAoCC,mBAApC,CAAwD1D,UAAxD,CAAV;AACA,iBAAO,CAAC;AAAE;AAAH,YAAcR,kBAAkB,CAACE,OAAnB,CAA2BiE,cAA3B,CAA0C,CAA1C,CAAd,CAAP;;AACJ,aAAK,CAAL;AACIhB,UAAAA,IAAI,GAAGvC,EAAE,CAAChD,IAAH,EAAP;AACA0G,UAAAA,IAAI,GAAG/E,MAAM,CAAC8B,8BAAP,CAAsCR,SAAtC,EAAiDyD,IAAxD;AACA,iBAAO,CAAC;AAAE;AAAH,YAAcxE,iBAAiB,CAACI,OAAlB,CAA0BsF,MAA1B,CAAiCjC,OAAjC,EAA0CJ,IAA1C,EAAgDrC,cAAhD,EAAgE,EAAhE,EAAoEwD,IAApE,CAAd,CAAP;;AACJ,aAAK,CAAL;AACIiB,UAAAA,KAAK,GAAG3E,EAAE,CAAChD,IAAH,EAAR;AACA6F,UAAAA,GAAG,GAAG8B,KAAK,CAACE,KAAN,CAAY,CAAZ,EAAe,CAAf,CAAN;AACA/B,UAAAA,EAAE,GAAG6B,KAAK,CAACE,KAAN,CAAY,CAAZ,EAAe,EAAf,CAAL;AACAV,UAAAA,OAAO,GAAGxF,MAAM,CAAC8B,8BAAP,CAAsCR,SAAtC,EAAiDkE,OAA3D,CAJJ,CAKI;;AACA,cAAIA,OAAO,KAAK,SAAhB,EAA2B;AACvBnB,YAAAA,GAAG,GAAGlE,QAAQ,CAACQ,OAAT,CAAiB0D,GAAjB,CAAqBa,WAArB,CAAiC/E,QAAQ,CAACQ,OAAT,CAAiBwF,GAAlD,CAAN;AACA7B,YAAAA,EAAE,GAAGD,GAAG,CAACe,MAAJ,CAAW;AAAEtB,cAAAA,IAAI,EAAE,SAAR;AAAmBI,cAAAA,GAAG,EAAEA,GAAxB;AAA6BC,cAAAA,EAAE,EAAEA;AAAjC,aAAX,CAAL;AACAwB,YAAAA,GAAG,GAAGjF,MAAM,CAACsE,IAAP,CAAYV,EAAE,CAACe,MAAH,CAAUtE,MAAV,EAAkBuE,MAAlB,CAAyBhB,EAAE,CAACiB,KAAH,EAAzB,CAAZ,CAAN;AACH,WAJD,MAMI,MAAM,IAAItC,KAAJ,CAAU,gCAAV,CAAN;;AACJ,iBAAO,CAAC;AAAE;AAAH,YAAe;AACdpB,YAAAA,mBAAmB,EAAE;AACjBP,cAAAA,SAAS,EAAEA,SADM;AAEjBU,cAAAA,UAAU,EAAE;AACR4B,gBAAAA,IAAI,EAAElD,MAAM,CAACsE,IAAP,CAAYpB,IAAZ,CADE;AAERrC,gBAAAA,cAAc,EAAE,IAAIX,EAAJ,CAAOW,cAAP;AAFR;AAFK,aADP;AAQdmB,YAAAA,aAAa,EAAEiD;AARD,WAAf,CAAP;AArBR;AAgCH,KAjCiB,CAAlB;AAkCH,GApC6F,CAAhB;AAoCzE,CApCL,C,CAqCA;AACA;;;AACA,IAAI/C,YAAY,GAAG,UAAUN,OAAV,EAAmBrB,UAAnB,EAA+B;AAAE,SAAOnE,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,EAAyB,YAAY;AACrG,QAAIkH,OAAJ,EAAaJ,IAAb,EAAmBmB,IAAnB,EAAyBxD,cAAzB,EAAyCyE,KAAzC,EAAgD9B,GAAhD,EAAqDC,EAArD,EAAyDqB,OAAzD,EAAkEG,GAAlE,EAAuEtB,GAAvE,EAA4EC,EAA5E;AACA,WAAOrG,WAAW,CAAC,IAAD,EAAO,UAAUoD,EAAV,EAAc;AACnC,cAAQA,EAAE,CAACjD,KAAX;AACI,aAAK,CAAL;AACI4F,UAAAA,OAAO,GAAG1D,mBAAmB,CAACK,OAApB,CAA4B+D,OAA5B,CAAoCC,mBAApC,CAAwD1D,UAAxD,CAAV;AACA2C,UAAAA,IAAI,GAAG,IAAI6B,UAAJ,CAAenD,OAAO,CAACT,mBAAR,CAA4BG,UAA5B,CAAuC4B,IAAtD,CAAP;AACAmB,UAAAA,IAAI,GAAG/E,MAAM,CAAC8B,8BAAP,CAAsCQ,OAAO,CAACT,mBAAR,CAA4BP,SAAlE,EAA6EyD,IAApF;AACAxD,UAAAA,cAAc,GAAGe,OAAO,CAACT,mBAAR,CAA4BG,UAA5B,CAAuCT,cAAvC,CAAsDsE,QAAtD,EAAjB;AACA,iBAAO,CAAC;AAAE;AAAH,YAActF,iBAAiB,CAACI,OAAlB,CAA0BsF,MAA1B,CAAiCjC,OAAjC,EAA0CJ,IAA1C,EAAgDrC,cAAhD,EAAgE,EAAhE,EAAoEwD,IAApE,CAAd,CAAP;;AACJ,aAAK,CAAL;AACIiB,UAAAA,KAAK,GAAG3E,EAAE,CAAChD,IAAH,EAAR;AACA6F,UAAAA,GAAG,GAAG8B,KAAK,CAACE,KAAN,CAAY,CAAZ,EAAe,CAAf,CAAN;AACA/B,UAAAA,EAAE,GAAG6B,KAAK,CAACE,KAAN,CAAY,CAAZ,EAAe,EAAf,CAAL;AACAV,UAAAA,OAAO,GAAGxF,MAAM,CAAC8B,8BAAP,CAAsCQ,OAAO,CAACT,mBAAR,CAA4BP,SAAlE,EAA6EkE,OAAvF,CAJJ,CAKI;;AACA,cAAIA,OAAO,KAAK,SAAhB,EAA2B;AACvBnB,YAAAA,GAAG,GAAGlE,QAAQ,CAACQ,OAAT,CAAiB0D,GAAjB,CAAqBa,WAArB,CAAiC/E,QAAQ,CAACQ,OAAT,CAAiBwF,GAAlD,CAAN;AACA7B,YAAAA,EAAE,GAAGD,GAAG,CAACe,MAAJ,CAAW;AAAEtB,cAAAA,IAAI,EAAE,SAAR;AAAmBI,cAAAA,GAAG,EAAEA,GAAxB;AAA6BC,cAAAA,EAAE,EAAEA;AAAjC,aAAX,CAAL;AACAwB,YAAAA,GAAG,GAAGjF,MAAM,CAACsE,IAAP,CAAYV,EAAE,CAACe,MAAH,CAAU/C,OAAO,CAACI,aAAlB,EAAiC4C,MAAjC,CAAwChB,EAAE,CAACiB,KAAH,EAAxC,CAAZ,CAAN;AACH,WAJD,MAMI,MAAM,IAAItC,KAAJ,CAAU,gCAAV,CAAN;;AACJ,iBAAO,CAAC;AAAE;AAAH,YAAe/C,SAAS,CAAC6F,gBAAV,CAA2BtD,MAA3B,CAAkCkD,GAAlC,EAAuC,KAAvC,CAAf,CAAP;AApBR;AAsBH,KAvBiB,CAAlB;AAwBH,GA1BmE,CAAhB;AA0B/C,CA1BL","sourcesContent":["\"use strict\";\n/**\n * rfc8081\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar params = __importStar(require(\"./params\"));\nvar asn1def_1 = require(\"./asn1def\");\nvar des_js_1 = __importDefault(require(\"des.js\"));\nvar buffer_1 = __importDefault(require(\"buffer\"));\nvar asn1_js_1 = __importDefault(require(\"asn1.js\"));\nvar js_encoding_utils_1 = __importDefault(require(\"js-encoding-utils\"));\nvar js_crypto_pbkdf_1 = __importDefault(require(\"js-crypto-pbkdf\"));\nvar js_crypto_aes_1 = __importDefault(require(\"js-crypto-aes\"));\nvar js_crypto_random_1 = __importDefault(require(\"js-crypto-random\"));\nvar Buffer = buffer_1.default.Buffer;\nvar BN = asn1_js_1.default.bignum;\n///////////////////////////////////////////////////////////////////\n/**\n * Generate EncryptedPrivateKeyInfo ASN.1 object.\n * @param {DER} binKey - Binary key in DER format.\n * @param {AsnEncryptOptionsWithPassphrase} [options={passphrase: ''}] - Encryption options for ASN.1 private key.\n * @return {Promise<DER>} - Encrypted private key in DER.\n */\nexports.encryptEncryptedPrivateKeyInfo = function (binKey, options) {\n    if (options === void 0) { options = { passphrase: '' }; }\n    return __awaiter(void 0, void 0, void 0, function () {\n        var kdfAlgorithm, encryptedPBES2, encryptedPBES1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    // default params\n                    if (typeof options.algorithm === 'undefined')\n                        options.algorithm = 'pbes2';\n                    if (typeof options.iterationCount === 'undefined')\n                        options.iterationCount = 2048;\n                    if (!(options.algorithm === 'pbes2')) return [3 /*break*/, 2];\n                    if (typeof options.cipher === 'undefined')\n                        options.cipher = 'aes256-cbc';\n                    if (typeof options.prf === 'undefined')\n                        options.prf = 'hmacWithSHA256';\n                    kdfAlgorithm = 'pbkdf2';\n                    return [4 /*yield*/, encryptPBES2(binKey, options.passphrase, kdfAlgorithm, options.prf, options.iterationCount, options.cipher)];\n                case 1:\n                    encryptedPBES2 = _a.sent();\n                    return [2 /*return*/, encodePBES2(encryptedPBES2)];\n                case 2: return [4 /*yield*/, encryptPBES1(binKey, options.passphrase, options.algorithm, options.iterationCount)];\n                case 3:\n                    encryptedPBES1 = _a.sent();\n                    encryptedPBES1.encryptionAlgorithm.algorithm = params.passwordBasedEncryptionSchemes[encryptedPBES1.encryptionAlgorithm.algorithm].oid; // work around\n                    encryptedPBES1.encryptionAlgorithm.parameters = asn1def_1.PBEParameter.encode(encryptedPBES1.encryptionAlgorithm.parameters, 'der');\n                    return [2 /*return*/, asn1def_1.EncryptedPrivateKeyInfo.encode(encryptedPBES1, 'der')];\n            }\n        });\n    });\n};\n/**\n * Decrypt EncryptedPrivateKeyInfo\n * @param {Object} epki - Parsed encrypted\n * @param {String} passphrase - Passphrase to decyrpt the object.\n * @return {Promise<Object>} - Decrypted object.\n */\nexports.decryptEncryptedPrivateKeyInfo = function (epki, passphrase) { return __awaiter(void 0, void 0, void 0, function () {\n    var decoded;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                decoded = {};\n                // encryptionAlgorithm.algorithm\n                decoded.encryptionAlgorithm = {\n                    algorithm: params.getAlgorithmFromOidStrict(epki.encryptionAlgorithm.algorithm, params.passwordBasedEncryptionSchemes)\n                };\n                if (decoded.encryptionAlgorithm.algorithm === 'pbes2') {\n                    decoded.encryptionAlgorithm.parameters = decodePBES2(epki.encryptionAlgorithm.parameters);\n                }\n                else {\n                    decoded.encryptionAlgorithm.parameters = asn1def_1.PBEParameter.decode(epki.encryptionAlgorithm.parameters, 'der');\n                }\n                decoded.encryptedData = epki.encryptedData;\n                if (!(decoded.encryptionAlgorithm.algorithm === 'pbes2')) return [3 /*break*/, 2];\n                return [4 /*yield*/, decryptPBES2(decoded, passphrase)];\n            case 1: return [2 /*return*/, _a.sent()]; // work around\n            case 2: return [4 /*yield*/, decryptPBES1(decoded, passphrase)];\n            case 3: return [2 /*return*/, _a.sent()];\n        }\n    });\n}); };\n//////////////////////////////\nvar encodePBES2 = function (decoded // work around\n) {\n    var epki = { encryptionAlgorithm: {} }; // work around\n    // algorithm\n    epki.encryptionAlgorithm.algorithm = params.passwordBasedEncryptionSchemes[decoded.encryptionAlgorithm.algorithm].oid;\n    // kdf\n    var kdf = decoded.encryptionAlgorithm.parameters.keyDerivationFunc;\n    if (kdf.algorithm === 'pbkdf2') {\n        kdf.parameters.prf.algorithm = params.pbkdf2Prfs[kdf.parameters.prf.algorithm].oid;\n        kdf.parameters = asn1def_1.PBKDF2Params.encode(kdf.parameters, 'der');\n    }\n    else\n        throw new Error('UnsupportedKDF');\n    kdf.algorithm = params.keyDerivationFunctions[kdf.algorithm].oid;\n    // encryptionScheme\n    var eS = decoded.encryptionAlgorithm.parameters.encryptionScheme;\n    if (Object.keys(asn1def_1.PBES2ESParams).indexOf(eS.algorithm) >= 0) {\n        eS.parameters = asn1def_1.PBES2ESParams[eS.algorithm].encode(eS.parameters, 'der');\n    }\n    else\n        throw new Error('UnsupportedCipher');\n    eS.algorithm = params.encryptionSchemes[eS.algorithm].oid;\n    // params\n    epki.encryptionAlgorithm.parameters = asn1def_1.PBES2Params.encode({ keyDerivationFunc: kdf, encryptionScheme: eS }, 'der');\n    // encoded data\n    epki.encryptedData = decoded.encryptedData;\n    return asn1def_1.EncryptedPrivateKeyInfo.encode(epki, 'der');\n};\nvar decodePBES2 = function (rawParams) {\n    var pbes2Params = asn1def_1.PBES2Params.decode(rawParams, 'der');\n    // keyDerivationFunc\n    var kdfAlgorithm = params.getAlgorithmFromOidStrict(pbes2Params.keyDerivationFunc.algorithm, params.keyDerivationFunctions);\n    var iterationCount;\n    var salt;\n    var prf;\n    if (kdfAlgorithm === 'pbkdf2') {\n        var pbkdf2Params = asn1def_1.PBKDF2Params.decode(pbes2Params.keyDerivationFunc.parameters, 'der');\n        prf = {\n            algorithm: params.getAlgorithmFromOidStrict(pbkdf2Params.prf.algorithm, params.pbkdf2Prfs),\n            parameters: pbkdf2Params.prf.parameters\n        };\n        iterationCount = pbkdf2Params.iterationCount;\n        salt = { type: pbkdf2Params.salt.type, value: pbkdf2Params.salt.value };\n    }\n    else\n        throw new Error('UnsupportedKDF');\n    //encryptionScheme\n    var encryptionScheme = params.getAlgorithmFromOidStrict(pbes2Params.encryptionScheme.algorithm, params.encryptionSchemes);\n    var encryptionParams;\n    if (Object.keys(asn1def_1.PBES2ESParams).indexOf(encryptionScheme) >= 0) {\n        encryptionParams = asn1def_1.PBES2ESParams[encryptionScheme].decode(pbes2Params.encryptionScheme.parameters, 'der');\n    }\n    else\n        throw new Error('UnsupportedCipher'); // TODO: Other Encryption Scheme\n    return {\n        keyDerivationFunc: {\n            algorithm: kdfAlgorithm,\n            parameters: { salt: salt, iterationCount: iterationCount, prf: prf }\n        },\n        encryptionScheme: {\n            algorithm: encryptionScheme,\n            parameters: encryptionParams\n        }\n    };\n};\n//////////////////////\n// PBES2 RFC8018 Section 6.2.1\nvar encryptPBES2 = function (binKey, passphrase, kdfAlgorithm, prf, iterationCount, cipher) { return __awaiter(void 0, void 0, void 0, function () {\n    var pBuffer, salt, keyLength, key, iv, encryptedData, _a, _b, CBC, ct, _c, _d;\n    return __generator(this, function (_e) {\n        switch (_e.label) {\n            case 0:\n                pBuffer = js_encoding_utils_1.default.encoder.stringToArrayBuffer(passphrase);\n                return [4 /*yield*/, js_crypto_random_1.default.getRandomBytes(params.keyDerivationFunctions[kdfAlgorithm].defaultSaltLen)];\n            case 1:\n                salt = _e.sent();\n                keyLength = params.encryptionSchemes[cipher].keyLength;\n                if (!(kdfAlgorithm === 'pbkdf2')) return [3 /*break*/, 3];\n                return [4 /*yield*/, js_crypto_pbkdf_1.default.pbkdf2(pBuffer, salt, iterationCount, keyLength, params.pbkdf2Prfs[prf].hash)];\n            case 2:\n                key = _e.sent(); // work around\n                return [3 /*break*/, 4];\n            case 3: throw new Error('UnsupportedKDF');\n            case 4:\n                if (!(cipher === 'des-ede3-cbc')) return [3 /*break*/, 6];\n                _b = (_a = Buffer).from;\n                return [4 /*yield*/, js_crypto_random_1.default.getRandomBytes(params.encryptionSchemes[cipher].ivLength)];\n            case 5:\n                iv = _b.apply(_a, [_e.sent()]);\n                CBC = des_js_1.default.CBC.instantiate(des_js_1.default.EDE);\n                ct = CBC.create({ type: 'encrypt', key: Buffer.from(key), iv: iv });\n                encryptedData = Buffer.from(ct.update(binKey).concat(ct.final()));\n                return [3 /*break*/, 10];\n            case 6:\n                if (!(cipher === 'aes128-cbc' || cipher === 'aes192-cbc' || cipher === 'aes256-cbc')) return [3 /*break*/, 9];\n                return [4 /*yield*/, js_crypto_random_1.default.getRandomBytes(params.encryptionSchemes[cipher].ivLength)];\n            case 7:\n                iv = _e.sent();\n                _d = (_c = Buffer).from;\n                return [4 /*yield*/, js_crypto_aes_1.default.encrypt(new Uint8Array(binKey), key, { name: 'AES-CBC', iv: iv })];\n            case 8:\n                encryptedData = _d.apply(_c, [_e.sent()]);\n                iv = Buffer.from(iv);\n                return [3 /*break*/, 10];\n            case 9: throw new Error('UnsupportedCipher');\n            case 10: \n            // structure\n            return [2 /*return*/, {\n                    encryptedData: encryptedData,\n                    encryptionAlgorithm: {\n                        algorithm: 'pbes2',\n                        parameters: {\n                            keyDerivationFunc: {\n                                algorithm: kdfAlgorithm,\n                                parameters: {\n                                    salt: { type: 'specified', value: Buffer.from(salt) },\n                                    iterationCount: new BN(iterationCount),\n                                    prf: { algorithm: prf, parameters: Buffer.from([0x05, 0x00]) }\n                                }\n                            },\n                            encryptionScheme: { algorithm: cipher, parameters: iv }\n                        }\n                    }\n                }];\n        }\n    });\n}); };\n//////////////////////////////\n// PBES2 RFC8018 Section 6.2.2\nvar decryptPBES2 = function (decoded, passphrase) { return __awaiter(void 0, void 0, void 0, function () {\n    var kdf, eS, keyLength, key, pBuffer, salt, iterationCount, prf, out, iv, CBC, pt, iv, _a, _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                kdf = decoded.encryptionAlgorithm.parameters.keyDerivationFunc;\n                eS = decoded.encryptionAlgorithm.parameters.encryptionScheme;\n                keyLength = params.encryptionSchemes[eS.algorithm].keyLength;\n                if (!(kdf.algorithm === 'pbkdf2')) return [3 /*break*/, 2];\n                pBuffer = js_encoding_utils_1.default.encoder.stringToArrayBuffer(passphrase);\n                if (kdf.parameters.salt.type !== 'specified')\n                    throw new Error('UnsupportedSaltSource');\n                salt = new Uint8Array(kdf.parameters.salt.value);\n                iterationCount = kdf.parameters.iterationCount.toNumber();\n                prf = kdf.parameters.prf.algorithm;\n                return [4 /*yield*/, js_crypto_pbkdf_1.default.pbkdf2(pBuffer, salt, iterationCount, keyLength, params.pbkdf2Prfs[prf].hash)];\n            case 1:\n                key = _c.sent();\n                return [3 /*break*/, 3];\n            case 2: throw new Error('UnsupportedKDF');\n            case 3:\n                if (!(eS.algorithm === 'des-ede3-cbc')) return [3 /*break*/, 4];\n                iv = eS.parameters;\n                CBC = des_js_1.default.CBC.instantiate(des_js_1.default.EDE);\n                pt = CBC.create({ type: 'decrypt', key: key, iv: iv });\n                out = Buffer.from(pt.update(decoded.encryptedData).concat(pt.final()));\n                return [3 /*break*/, 7];\n            case 4:\n                if (!(eS.algorithm === 'aes128-cbc' || eS.algorithm === 'aes192-cbc' || eS.algorithm === 'aes256-cbc')) return [3 /*break*/, 6];\n                iv = new Uint8Array(eS.parameters);\n                _b = (_a = Buffer).from;\n                return [4 /*yield*/, js_crypto_aes_1.default.decrypt(new Uint8Array(decoded.encryptedData), key, { name: 'AES-CBC', iv: iv })];\n            case 5:\n                out = _b.apply(_a, [_c.sent()]);\n                return [3 /*break*/, 7];\n            case 6: throw new Error('UnsupportedEncryptionAlgorithm');\n            case 7: return [2 /*return*/, asn1def_1.OneAsymmetricKey.decode(out, 'der')];\n        }\n    });\n}); };\n//////////////////////////////\n// PBES1 RFC8018 Section 6.1.1\nvar encryptPBES1 = function (binKey, passphrase, algorithm, iterationCount) { return __awaiter(void 0, void 0, void 0, function () {\n    var pBuffer, salt, hash, keyIv, key, iv, encrypt, out, CBC, ct;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                pBuffer = js_encoding_utils_1.default.encoder.stringToArrayBuffer(passphrase);\n                return [4 /*yield*/, js_crypto_random_1.default.getRandomBytes(8)];\n            case 1:\n                salt = _a.sent();\n                hash = params.passwordBasedEncryptionSchemes[algorithm].hash;\n                return [4 /*yield*/, js_crypto_pbkdf_1.default.pbkdf1(pBuffer, salt, iterationCount, 16, hash)];\n            case 2:\n                keyIv = _a.sent();\n                key = keyIv.slice(0, 8);\n                iv = keyIv.slice(8, 16);\n                encrypt = params.passwordBasedEncryptionSchemes[algorithm].encrypt;\n                // TODO: Other Encryption Scheme\n                if (encrypt === 'DES-CBC') {\n                    CBC = des_js_1.default.CBC.instantiate(des_js_1.default.DES);\n                    ct = CBC.create({ type: 'encrypt', key: key, iv: iv });\n                    out = Buffer.from(ct.update(binKey).concat(ct.final()));\n                }\n                else\n                    throw new Error('UnsupportedEncryptionAlgorithm');\n                return [2 /*return*/, {\n                        encryptionAlgorithm: {\n                            algorithm: algorithm,\n                            parameters: {\n                                salt: Buffer.from(salt),\n                                iterationCount: new BN(iterationCount)\n                            }\n                        },\n                        encryptedData: out\n                    }];\n        }\n    });\n}); };\n//////////////////////////////\n// PBES1 RFC8018 Section 6.1.2\nvar decryptPBES1 = function (decoded, passphrase) { return __awaiter(void 0, void 0, void 0, function () {\n    var pBuffer, salt, hash, iterationCount, keyIv, key, iv, encrypt, out, CBC, ct;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                pBuffer = js_encoding_utils_1.default.encoder.stringToArrayBuffer(passphrase);\n                salt = new Uint8Array(decoded.encryptionAlgorithm.parameters.salt);\n                hash = params.passwordBasedEncryptionSchemes[decoded.encryptionAlgorithm.algorithm].hash;\n                iterationCount = decoded.encryptionAlgorithm.parameters.iterationCount.toNumber();\n                return [4 /*yield*/, js_crypto_pbkdf_1.default.pbkdf1(pBuffer, salt, iterationCount, 16, hash)];\n            case 1:\n                keyIv = _a.sent();\n                key = keyIv.slice(0, 8);\n                iv = keyIv.slice(8, 16);\n                encrypt = params.passwordBasedEncryptionSchemes[decoded.encryptionAlgorithm.algorithm].encrypt;\n                // TODO: Other Encryption Scheme\n                if (encrypt === 'DES-CBC') {\n                    CBC = des_js_1.default.CBC.instantiate(des_js_1.default.DES);\n                    ct = CBC.create({ type: 'decrypt', key: key, iv: iv });\n                    out = Buffer.from(ct.update(decoded.encryptedData).concat(ct.final()));\n                }\n                else\n                    throw new Error('UnsupportedEncryptionAlgorithm');\n                return [2 /*return*/, asn1def_1.OneAsymmetricKey.decode(out, 'der')];\n        }\n    });\n}); };\n//# sourceMappingURL=rfc8018.js.map"]},"metadata":{},"sourceType":"script"}