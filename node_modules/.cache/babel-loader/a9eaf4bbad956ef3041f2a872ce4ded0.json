{"ast":null,"code":"import rsa from \"js-crypto-rsa\"; // for npm\n\nimport { str2ab } from \"../strAb\";\nexport default async function (transaction, wallet) {\n  console.log(transaction);\n  const sig = await rsa.sign(str2ab(transaction), wallet.privateKey, \"SHA-256\", {\n    name: \"RSA-PSS\",\n    // default. 'RSASSA-PKCS1-v1_5' is also available.\n    saltLength: 64\n  });\n  const valid = await rsa.verify(str2ab(transaction), sig, wallet.publicKey, \"SHA-256\", {\n    name: \"RSA-PSS\",\n    saltLength: 64\n  });\n  console.log(valid);\n  return sig;\n}","map":{"version":3,"sources":["/home/paul/Dokumente/Code/ConsensusLessBlockChain/consensusless-blockchain-wallet/src/services/wallet/sign.js"],"names":["rsa","str2ab","transaction","wallet","console","log","sig","sign","privateKey","name","saltLength","valid","verify","publicKey"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,eAAhB,C,CAAiC;;AACjC,SAASC,MAAT,QAAuB,UAAvB;AACA,eAAe,gBAAeC,WAAf,EAA4BC,MAA5B,EAAoC;AACjDC,EAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACA,QAAMI,GAAG,GAAG,MAAMN,GAAG,CAACO,IAAJ,CAChBN,MAAM,CAACC,WAAD,CADU,EAEhBC,MAAM,CAACK,UAFS,EAGhB,SAHgB,EAIhB;AACEC,IAAAA,IAAI,EAAE,SADR;AACmB;AACjBC,IAAAA,UAAU,EAAE;AAFd,GAJgB,CAAlB;AAUA,QAAMC,KAAK,GAAG,MAAMX,GAAG,CAACY,MAAJ,CAClBX,MAAM,CAACC,WAAD,CADY,EAElBI,GAFkB,EAGlBH,MAAM,CAACU,SAHW,EAIlB,SAJkB,EAKlB;AAAEJ,IAAAA,IAAI,EAAE,SAAR;AAAmBC,IAAAA,UAAU,EAAE;AAA/B,GALkB,CAApB;AAOAN,EAAAA,OAAO,CAACC,GAAR,CAAYM,KAAZ;AACA,SAAOL,GAAP;AACD","sourcesContent":["import rsa from \"js-crypto-rsa\"; // for npm\nimport { str2ab } from \"../strAb\";\nexport default async function(transaction, wallet) {\n  console.log(transaction);\n  const sig = await rsa.sign(\n    str2ab(transaction),\n    wallet.privateKey,\n    \"SHA-256\",\n    {\n      name: \"RSA-PSS\", // default. 'RSASSA-PKCS1-v1_5' is also available.\n      saltLength: 64\n    }\n  );\n\n  const valid = await rsa.verify(\n    str2ab(transaction),\n    sig,\n    wallet.publicKey,\n    \"SHA-256\",\n    { name: \"RSA-PSS\", saltLength: 64 }\n  );\n  console.log(valid);\n  return sig;\n}\n"]},"metadata":{},"sourceType":"module"}