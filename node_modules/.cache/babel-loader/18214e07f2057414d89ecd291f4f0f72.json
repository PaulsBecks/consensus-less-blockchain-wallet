{"ast":null,"code":"import getOpenTransactionBalance from \"./getOpenTransactionBalance\";\nexport default function findFormer(wallet, amount) {\n  const transactions = Object.values(wallet.transactions);\n  console.log(transactions);\n  let rest = amount;\n  let former = {};\n\n  for (let i in transactions) {\n    let t = transactions[i];\n    console.log(t);\n    const openTransactionBalance = getOpenTransactionBalance(transactions, t);\n    console.log(openTransactionBalance);\n\n    if (openTransactionBalance > 0) {\n      let val = Math.min(rest, openTransactionBalance);\n      former[t.sig] = val;\n      rest -= val;\n    }\n\n    if (rest <= 0) {\n      return former;\n    }\n\n    console.log(former, rest);\n  }\n\n  return null;\n}","map":{"version":3,"sources":["/home/paul/Dokumente/Code/ConsensusLessBlockChain/consensusless-blockchain-wallet/src/services/wallet/findFormer.js"],"names":["getOpenTransactionBalance","findFormer","wallet","amount","transactions","Object","values","console","log","rest","former","i","t","openTransactionBalance","val","Math","min","sig"],"mappings":"AAAA,OAAOA,yBAAP,MAAsC,6BAAtC;AAEA,eAAe,SAASC,UAAT,CAAoBC,MAApB,EAA4BC,MAA5B,EAAoC;AACjD,QAAMC,YAAY,GAAGC,MAAM,CAACC,MAAP,CAAcJ,MAAM,CAACE,YAArB,CAArB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAZ;AACA,MAAIK,IAAI,GAAGN,MAAX;AACA,MAAIO,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIC,CAAT,IAAcP,YAAd,EAA4B;AAC1B,QAAIQ,CAAC,GAAGR,YAAY,CAACO,CAAD,CAApB;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYI,CAAZ;AACA,UAAMC,sBAAsB,GAAGb,yBAAyB,CAACI,YAAD,EAAeQ,CAAf,CAAxD;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAYK,sBAAZ;;AACA,QAAIA,sBAAsB,GAAG,CAA7B,EAAgC;AAC9B,UAAIC,GAAG,GAAGC,IAAI,CAACC,GAAL,CAASP,IAAT,EAAeI,sBAAf,CAAV;AACAH,MAAAA,MAAM,CAACE,CAAC,CAACK,GAAH,CAAN,GAAgBH,GAAhB;AACAL,MAAAA,IAAI,IAAIK,GAAR;AACD;;AACD,QAAIL,IAAI,IAAI,CAAZ,EAAe;AACb,aAAOC,MAAP;AACD;;AACDH,IAAAA,OAAO,CAACC,GAAR,CAAYE,MAAZ,EAAoBD,IAApB;AACD;;AACD,SAAO,IAAP;AACD","sourcesContent":["import getOpenTransactionBalance from \"./getOpenTransactionBalance\";\n\nexport default function findFormer(wallet, amount) {\n  const transactions = Object.values(wallet.transactions);\n  console.log(transactions);\n  let rest = amount;\n  let former = {};\n  for (let i in transactions) {\n    let t = transactions[i];\n    console.log(t);\n    const openTransactionBalance = getOpenTransactionBalance(transactions, t);\n    console.log(openTransactionBalance);\n    if (openTransactionBalance > 0) {\n      let val = Math.min(rest, openTransactionBalance);\n      former[t.sig] = val;\n      rest -= val;\n    }\n    if (rest <= 0) {\n      return former;\n    }\n    console.log(former, rest);\n  }\n  return null;\n}\n"]},"metadata":{},"sourceType":"module"}